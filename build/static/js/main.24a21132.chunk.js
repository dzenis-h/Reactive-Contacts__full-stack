(this["webpackJsonpreactive-contacts"]=this["webpackJsonpreactive-contacts"]||[]).push([[0],{16:function(e,t,a){e.exports={navbar:"Navbar_navbar__1gLNU","nav-links":"Navbar_nav-links__Zul0B",selected:"Navbar_selected__1ny6U",logout:"Navbar_logout__3ZNM9",name:"Navbar_name__ORcq6",hide:"Navbar_hide__3C3-c","logout-icon":"Navbar_logout-icon__1nFW6",title:"Navbar_title__mFs5D"}},18:function(e,t,a){e.exports={"grid-2":"ContactsItem_grid-2__W24ft",card:"ContactsItem_card__1QYyn",icons:"ContactsItem_icons__1QvQe",type:"ContactsItem_type__eB8-H","edit-radio":"ContactsItem_edit-radio__29Rh9"}},26:function(e,t,a){e.exports={register:"Register_register__3yKtz"}},31:function(e,t,a){e.exports={ContactsForm:"ContactsForm_ContactsForm__1r_rr"}},40:function(e,t,a){e.exports={container:"App_container__1MQN3"}},41:function(e,t,a){e.exports={Home:"Home_Home__2_zgN"}},42:function(e,t,a){e.exports={list:"ContactsList_list__3mEzM"}},74:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(23),r=a.n(c),s=a(40),o=a.n(s),i=a(16),l=a.n(i),u=a(17),j=a(5),b=a(6),d=a.n(b),p=a(15),h="ADD_CONTACT",O="REMOVE_CONTACT",m="UPDATE_CONTACT",f="REGISTER_USER",x="LOGIN_USER",v="GET_USER",g="LOGOUT_USER",y="GET_CONTACTS",_="FILTER_CONTACTS",C="CLEAR_FILTER",N=a(9),k=a.n(N),w={headers:{"Content-Type":"application/json"}},A=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k.a.defaults.headers.common["x-auth-token"]=e,t.next=3,k.a.get("/api/auth");case 3:n=t.sent,c=n.data,a({type:v,payload:c});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=a(0),F=Object(j.b)((function(e){return{isAuth:e.auth.isAuth,token:e.auth.token,user:e.auth.user}}),{logout:function(){return function(e){e({type:g})}},getUser:A})((function(e){var t=e.isAuth,a=e.getUser,c=e.token,r=e.user,s=e.logout;return Object(n.useEffect)((function(){t&&a(localStorage.token)}),[c,t,a]),Object(E.jsx)(n.Fragment,{children:Object(E.jsxs)("div",{className:l.a.navbar,children:[Object(E.jsxs)(u.b,{to:"/",children:[Object(E.jsx)("i",{className:"far fa-address-book fa-2x"}),Object(E.jsx)("p",{className:l.a.title,children:"Reactive Contacts"})]}),Object(E.jsx)("div",{className:l.a["nav-links"],children:t?Object(E.jsxs)(n.Fragment,{children:[Object(E.jsxs)("p",{className:l.a.name,children:[Object(E.jsx)("i",{className:"far fa-hand-peace"}),"Hello, ",r&&r.name]}),Object(E.jsx)("p",{children:Object(E.jsxs)("a",{href:"#!",onClick:s,className:l.a.logout,children:[Object(E.jsx)("i",{className:"fas fa-sign-out-alt logout-icon"}),Object(E.jsx)("span",{className:l.a.hide,children:"Logout"})]})})]}):Object(E.jsxs)(n.Fragment,{children:[Object(E.jsx)("p",{children:Object(E.jsxs)(u.c,{to:"/register",activeClassName:l.a.selected,children:["Register ","  "]})}),Object(E.jsx)("p",{children:Object(E.jsx)(u.c,{to:"/login",activeClassName:l.a.selected,children:"Login"})})]})})]})})})),S=a(13),T=a(2),R=a(14),I=a(31),P=a.n(I),D=function(e){e?k.a.defaults.headers.common["x-auth-token"]=e:delete k.a.defaults.headers.common["x-auth-token"]},L={headers:{"Content-Type":"application/json"}},U=function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(localStorage.token),e.next=3,k.a.get("api/contacts");case 3:a=e.sent,n=a.data,t({type:y,payload:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},q=Object(j.b)(null,{addContect:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return D(localStorage.token),t.next=3,k.a.post("api/contacts",e,L);case 3:n=t.sent,c=n.data,a({type:h,payload:c});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.addContect,a=Object(n.useState)({name:"",email:"",phone:"",type:"personal"}),c=Object(R.a)(a,2),r=c[0],s=c[1],o=r.name,i=r.phone,l=r.email,u=r.type,j=function(e){s(Object(T.a)(Object(T.a)({},r),{},Object(S.a)({},e.target.name,e.target.value)))};return Object(E.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(r),s({name:"",email:"",phone:"",type:"personal"})},className:P.a.ContactsForm,children:[Object(E.jsx)("label",{htmlFor:o,children:Object(E.jsx)("b",{children:"Name:"})}),Object(E.jsx)("input",{name:"name",type:"text",value:o,onChange:j,id:"name",required:!0}),Object(E.jsx)("label",{htmlFor:l,children:Object(E.jsx)("b",{children:"Email:"})}),Object(E.jsx)("input",{name:"email",type:"email",value:l,onChange:j,id:"email",required:!0}),Object(E.jsx)("label",{htmlFor:i,children:Object(E.jsx)("b",{children:"Phone:"})}),Object(E.jsx)("input",{name:"phone",type:"text",value:i,onChange:j,id:"phone",required:!0}),Object(E.jsx)("label",{htmlFor:u,children:Object(E.jsx)("b",{children:"Type:"})}),Object(E.jsxs)("div",{className:P.a.type,children:[Object(E.jsx)("input",{name:"type",type:"radio",value:"personal",onChange:j,id:"personal",checked:"personal"===u})," ","Personal",Object(E.jsx)("input",{name:"type",type:"radio",value:"professional",onChange:j,id:"professional",checked:"professional"===u})," ","Professional"]}),Object(E.jsx)("button",{children:"Add Contact"})]})})),H=a(41),G=a.n(H),M=a(18),Q=a.n(M),z=Object(j.b)(null,{removeContact:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.delete("api/contacts/".concat(e));case 2:a({type:O,payload:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateContact:function(e,t){return function(){var a=Object(p.a)(d.a.mark((function a(n){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,k.a.put("api/contacts/".concat(e),t,L);case 2:n({type:m,payload:{id:e,newData:t}});case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},getContacts:U})((function(e){var t=e.contact,a=t.name,c=t.phone,r=t.email,s=t.type,o=t._id,i=e.updateContact,l=e.removeContact,u=e.getContacts,j=Object(n.useState)(!1),b=Object(R.a)(j,2),d=b[0],p=b[1],h=Object(n.useState)({_id:o,name:a,email:r,phone:c,type:s}),O=Object(R.a)(h,2),m=O[0],f=O[1],x=function(e){f(Object(T.a)(Object(T.a)({},m),{},Object(S.a)({},e.target.name,e.target.value)))};return Object(E.jsx)("div",{className:Q.a["grid-2"],children:Object(E.jsx)("div",{className:Q.a.card,children:Object(E.jsxs)("ul",{children:[Object(E.jsxs)("li",{children:[Object(E.jsx)("i",{className:"fas fa-file-signature"})," ","  ","Name:"," ",Object(E.jsx)("span",{children:a})," ",Object(E.jsx)("br",{}),d&&Object(E.jsx)("input",{value:m.name,onChange:x,name:"name"})]}),Object(E.jsxs)("li",{className:Q.a.icons,children:[Object(E.jsx)("i",{className:"fas fa-mobile-alt"})," ","  ","Phone: ","  ",Object(E.jsx)("span",{children:c})," ",Object(E.jsx)("br",{}),d&&Object(E.jsx)("input",{value:m.phone,onChange:x,name:"phone"})]}),Object(E.jsxs)("li",{className:Q.a.icon,children:[Object(E.jsx)("i",{className:"far fa-envelope"}),"  "," E-mail:",Object(E.jsx)("span",{children:r}),Object(E.jsx)("br",{}),d&&Object(E.jsx)("input",{value:m.email,onChange:x,name:"email"})]}),Object(E.jsxs)("li",{children:[Object(E.jsx)("i",{className:"far fa-address-card"})," Type:"," ",Object(E.jsx)("b",{className:Q.a.type,children:s})," ",Object(E.jsx)("br",{}),d&&Object(E.jsxs)("div",{className:Q.a["edit-radio"],children:[Object(E.jsx)("input",{name:"type",type:"radio",value:"personal",onChange:x,id:"personal",checked:"personal"===m.type})," ","Personal",Object(E.jsx)("input",{name:"type",type:"radio",value:"professional",onChange:x,id:"professional",checked:"professional"===m.type})," ","Professional"]})]}),d?Object(E.jsx)("button",{onClick:function(){return e=o,t=m,p(!d),i(e,t),void u();var e,t},children:"Update"}):Object(E.jsxs)("li",{children:[Object(E.jsx)("button",{onClick:function(){return l(o),void u()},children:"DELETE"}),Object(E.jsx)("button",{onClick:function(){return p(!0)},children:"EDIT"})]})]})})})})),B=a(42),W=a.n(B),J=Object(j.b)((function(e){return{contacts:e.contacts.contacts,filtered:e.contacts.filtered,isAuth:e.auth.isAuth}}),{getContacts:U,filterContacts:function(e){return function(t){t({type:_,payload:e})}},clearFiltered:function(){return function(e){e({type:C})}}})((function(e){var t=e.isAuth,a=e.getContacts,c=e.filterContacts,r=e.clearFiltered,s=e.filtered,o=e.contacts,i=Object(n.useRef)("");Object(n.useEffect)((function(){t&&a(),""===i.current.value&&r()}),[t,r,a]);var l=s?s.map((function(e){return Object(E.jsx)(z,{contact:e},e._id)})):o.map((function(e){return Object(E.jsx)(z,{contact:e},e._id)}));return Object(E.jsxs)("div",{className:W.a.list,children:[Object(E.jsx)("label",{htmlFor:"filter",children:"Filter contacts:"}),Object(E.jsx)("input",{ref:i,name:"filter",onChange:function(e){""!==i.current.value?c(e.target.value):r()}}),l]})})),Z=a(4),K=Object(j.b)((function(e){return{isAuth:e.auth.isAuth}}),null)((function(e){var t=e.isAuth;return Object(E.jsx)("div",{className:G.a.Home,children:t?Object(E.jsxs)(n.Fragment,{children:[Object(E.jsx)(q,{}),Object(E.jsx)(J,{})]}):Object(E.jsx)(Z.a,{to:"/login"})})})),V=a(26),Y=a.n(V),X=Object(j.b)(null,{register:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.post("/api/users",e,w);case 2:n=t.sent,c=n.data,a({type:f,payload:c}),A(c.token);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.history,a=e.isAuth,c=e.register,r=Object(n.useState)({name:"",email:"",password:"",confirmPassword:""}),s=Object(R.a)(r,2),o=s[0],i=s[1];Object(n.useEffect)((function(){a&&t.push("/")}),[a,t]);var l=function(e){i(Object(T.a)(Object(T.a)({},o),{},Object(S.a)({},e.target.name,e.target.value)))},u=o.name,j=o.email,b=o.password,d=o.confirmPassword;return Object(E.jsxs)("form",{className:Y.a.register,onSubmit:function(e){e.preventDefault(),b===d?c(o):alert("PASSWORDS DO NOT MATCH")},children:[Object(E.jsx)("h4",{children:"Register a User"}),Object(E.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(E.jsx)("input",{name:"name",value:u,onChange:l,required:!0}),Object(E.jsx)("label",{htmlFor:"email",children:"E-mail:"}),Object(E.jsx)("input",{name:"email",type:"email",value:j,onChange:l,required:!0}),Object(E.jsx)("label",{htmlFor:"name",children:"Password:"}),Object(E.jsx)("input",{name:"password",value:b,onChange:l,type:"password",required:!0}),Object(E.jsx)("label",{htmlFor:"name",children:"Confirm Password:"}),Object(E.jsx)("input",{name:"confirmPassword",value:d,onChange:l,type:"password",required:!0}),Object(E.jsx)("button",{children:"Register"})]})})),$=Object(j.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.post("/api/auth",e,w);case 2:n=t.sent,c=n.data,a({type:x,payload:c}),A(c.token);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.history,a=e.isAuth,c=e.login,r=Object(n.useState)({email:"",password:""}),s=Object(R.a)(r,2),o=s[0],i=s[1];Object(n.useEffect)((function(){a&&t.push("/")}),[a,t]);var l=function(e){i(Object(T.a)(Object(T.a)({},o),{},Object(S.a)({},e.target.name,e.target.value)))},u=o.email,j=o.password;return Object(E.jsxs)("form",{className:Y.a.register,onSubmit:function(e){e.preventDefault(),c(o)},children:[Object(E.jsx)("h4",{children:"LOGIN"}),Object(E.jsx)("label",{htmlFor:"email",children:"E-mail:"}),Object(E.jsx)("input",{name:"email",type:"email",value:u,onChange:l,required:!0}),Object(E.jsx)("label",{htmlFor:"name",children:"Password:"}),Object(E.jsx)("input",{name:"password",value:j,onChange:l,type:"password",required:!0}),Object(E.jsx)("button",{children:"Login"})]})}));var ee=function(){return Object(E.jsx)(n.Fragment,{children:Object(E.jsxs)(u.a,{children:[Object(E.jsx)(F,{}),Object(E.jsx)("div",{className:o.a.container}),Object(E.jsx)(Z.b,{exact:!0,path:"/",component:K}),Object(E.jsxs)(Z.d,{children:[Object(E.jsx)(Z.b,{exact:!0,path:"/register",component:X}),Object(E.jsx)(Z.b,{exact:!0,path:"/login",component:$})]})]})})},te=a(22),ae=a(43),ne=a(44),ce={contacts:[],filtered:null},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(T.a)(Object(T.a)({},e),{},{contacts:t.payload});case h:var a=e.contacts.concat(t.payload);return Object(T.a)(Object(T.a)({},e),{},{contacts:a});case O:var n=e.contacts.filter((function(e){return e._id!==t.payload}));return Object(T.a)(Object(T.a)({},e),{},{contacts:n});case m:var c=e.contacts.findIndex((function(e){return e._id===t.payload.id})),r=e.contacts[c];r=t.payload.newData;var s=Object(ne.a)(e.contacts);return s[c]=r,Object(T.a)(Object(T.a)({},e),{},{contacts:s});case _:var o=e.contacts.filter((function(e){var a=new RegExp("".concat(t.payload),"gi");return e.name.match(a)||e.email.match(a)}));return Object(T.a)(Object(T.a)({},e),{},{filtered:o});case C:return Object(T.a)(Object(T.a)({},e),{},{filtered:null});default:return e}},se={token:localStorage.getItem("token"),isAuth:null!==localStorage.getItem("token"),user:null},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return localStorage.setItem("token",t.payload.token),Object(T.a)(Object(T.a)({},e),{},{isAuth:!0,token:t.payload.token});case x:return localStorage.setItem("token",t.payload.token),Object(T.a)(Object(T.a)({},e),{},{isAuth:!0,token:t.payload});case v:return Object(T.a)(Object(T.a)({},e),{},{user:t.payload,isAuth:!0,token:e.token});case g:return localStorage.removeItem("token"),Object(T.a)(Object(T.a)({},e),{},{user:null,isAuth:null,token:null});default:return e}},ie=Object(te.b)({contacts:re,auth:oe}),le=Object(te.c)(ie,{},Object(te.a)(ae.a));r.a.render(Object(E.jsx)(j.a,{store:le,children:Object(E.jsx)(ee,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.24a21132.chunk.js.map